# Srpip

## 树莓派的创新个人隐私监控系统一稿完成报告：

### 使用硬件：树莓派4B 4G、pi-camrea V2、sense HAT

### 人脸识别监控系统（已完成）：
    基于python的face_recognition库，
    代码逻辑：
            加载训练模型
                |
                |
                ↓
           加载待比对的图片
                |
                |
                ↓
        获取视频数据流进行比对
        并显示当前摄像头数据流   ———————————→   截图并以当前时间命名保存
                |              （比对失败）
                |（比对成功）
                ↓  
        显示已识别人员名字的框、记录被识别数据

### 会有被拍摄的照片太暗，难辨认的情况，本来准备用opencv调亮
### 但因为大概一秒钟才能拍摄一张照片，并且有模糊的现象。需要他尽可能地多拍摄照片，所以就不再占用cpu运算能力了。
### 可以使用后期处理

### sense HAT 的防盗以及天气数据系统（已完成）：
    基于python 的 sensehat库：
    代码逻辑：
                读取各项数据
                    |
                    |
                    ↓
            各项信息和安全标准进行比对 ———————————→ 直接保存 异常情况+时间 命名的txt 文件
                    |                       （数据异常时）
                    |
                    |（数据正常时）
                    ↓
            每三十秒钟写入各项信息
            五分钟生成一个以时间命名的txt文件

### 信息报警实时传输（基本完成，与当初设想的效果还是有差距）：
    这个地方的实现反倒是最困难的地方。

    立项时，寻找的weixinbot库基于webwecaht。当时webwechat能够正常使用

    然而官方2020.1宣布web微信停止服务。只能作罢寻找新的可用库

    寻找到 Itchat，发现也需要使用web微信。

    再是 webqq，然而webqq更是早在2017.1已经停止服务。

    再找到了telegrambot，这个很好用，但是到了树莓派上，没有可行的办法进行科学上网，无法继续。

    instgram同理

    再想到 图灵机器人接微信公众号做一个服务，但是图灵机器人的图片接口需要付费。

    微信公众号接口发送图片需要用户请求才能发送，树莓派端的请求被微信公众号server拒绝

    其他的可行办法均VPS做中介，条件不允许。
    
    ### 最后采用
    最后选择了开源点对点传输syncthing平台。他实现互联网传输也需要VPS，考虑到校园网算是一个内网，一个局域网，应该可行。
    syncthing会保证终端一直在同步状态。
    每产生新的文件都会提醒用户有新文件正在传输，起到报警的作用，速度确实很快
    试用了一天，几乎能够同时同步被拍摄到的图像到手机上，记录数据信息的文档，也可起到报警作用，也留下证据。

# 第一次初稿完成



